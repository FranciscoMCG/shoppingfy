(this.webpackJsonpshoppingfy=this.webpackJsonpshoppingfy||[]).push([[0],{31:function(n,t,e){},33:function(n,t,e){"use strict";e.r(t);var r=e(1),i=e(0),c=e.n(i),a=e(9),o=e.n(a),u=e(7),s=e(5),d=e(4),l=e(12),b=e.n(l),f=e(15),h=Object(u.b)({name:"items",initialState:{loading:!1,hasErrors:!1,items:[]},reducers:{getItems:function(n){n.loading=!0},getItemsSuccess:function(n,t){var e=t.payload;n.items=e,n.loading=!1,n.hasErrors=!1},getItemsFailure:function(n){n.loading=!1,n.hasErrors=!0}}}),j=h.actions,g=j.getItems,p=j.getItemsSuccess,m=j.getItemsFailure,v=function(n){return n.items},O=h.reducer,x=Object(u.b)({name:"basket",initialState:{isTouched:!1,basket:{}},reducers:{qtyChange:function(n,t){var e=t.payload,r=e.itemId,i=e.value,c=e.price;n.isTouched=!0,n.basket[r]={total:i*c,qty:i}},reset:function(n,t){var e=t.payload.itemId;n.isTouched=!0,n.basket[e]={total:0,qty:0}},resetAll:function(n){n.isTouched=!0,n.basket={}}}}),w=x.actions,y=w.qtyChange,k=w.reset,F=w.resetAll,I=function(n){return n.basket},C=x.reducer,S=Object(d.c)({items:O,basket:C}),L=(e(31),e(2)),T=e(3),q={white:"#FFF",black:"#000",greyLight:"#D3D3D3",greyDark:"#A9A9A9",blueLight:"#46B7FD",orange:"#FFA500"};function D(){var n=Object(L.a)(["\n  border: 2px solid ",";\n  max-width: 30rem;\n  width: 70%;\n  padding: 2rem 1.2rem;\n"]);return D=function(){return n},n}var A=T.a.div(D(),q.greyLight),E=function(){return Object(r.jsxs)(A,{children:[Object(r.jsx)(W,{}),Object(r.jsx)(sn,{})]})};function K(){var n=Object(L.a)(["\n  width: 5%;\n  color: ",";\n  font-weight: 600;\n  text-align: center;\n  border: none;\n  background-color: transparent;\n  cursor: pointer;\n"]);return K=function(){return n},n}function U(){var n=Object(L.a)(["\n  width: 30%;\n  font-weight: 800;\n  color: ",";\n  text-align: right;\n"]);return U=function(){return n},n}function z(){var n=Object(L.a)(["\n  width: 25%;\n  border: 1px solid ",";\n"]);return z=function(){return n},n}function B(){var n=Object(L.a)(["\n  width: 40%;\n"]);return B=function(){return n},n}function J(){var n=Object(L.a)(["\n  display: flex;\n  width: 100%;\n  border-bottom: 1px dashed ",";\n  padding: 1rem 0rem;\n"]);return J=function(){return n},n}var P=q.greyLight,M=T.a.div(J(),P),N=T.a.div(B()),X=T.a.input(z(),P),G=T.a.span(U(),q.orange),H=T.a.button(K(),P),Q=function(n){var t,e,i=n.item,c=Object(s.b)(),a=Object(s.c)(I).basket,o=parseFloat(null===(t=a[i.SKU])||void 0===t?void 0:t.total)||0;return Object(r.jsxs)(M,{children:[Object(r.jsx)(N,{children:i.name}),Object(r.jsx)(X,{type:"number",id:"qty",name:"qty",min:"0",max:"3",placeholder:"0",onChange:function(n){c(y({itemId:i.SKU,value:parseInt(n.target.value),price:i.price}))},value:(null===(e=a[i.SKU])||void 0===e?void 0:e.qty)||0}),Object(r.jsxs)(G,{children:[i.currency,o.toFixed(2)]}),Object(r.jsx)(H,{onClick:function(){c(k({itemId:i.SKU}))},children:"X"})]})};function R(){var n=Object(L.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  margin-bottom: 1.2rem;\n"]);return R=function(){return n},n}var V=T.a.div(R()),W=function(){var n=Object(s.b)(),t=Object(s.c)(v),e=t.items,c=t.loading,a=t.hasErrors;return Object(i.useEffect)((function(){n(function(){var n=Object(f.a)(b.a.mark((function n(t){var e,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t(g()),n.prev=1,n.next=4,fetch("data.json");case 4:return e=n.sent,n.next=7,e.json();case 7:r=n.sent,t(p(r)),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(1),t(m());case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(t){return n.apply(this,arguments)}}())}),[n]),c?Object(r.jsx)("p",{children:"loading..."}):a?Object(r.jsx)("p",{children:"Something went wrong..."}):Object(r.jsx)(V,{children:null===e||void 0===e?void 0:e.map((function(n,t){return Object(r.jsx)(Q,{item:n},t)}))})};function Y(){var n=Object(L.a)(["\n  width: 30%;\n  color: ",";\n  font-weight: 800;\n  font-size: 1rem;\n  padding: 0.7rem;\n  border: 1px solid ",";\n  background-color: ",";\n  cursor: pointer;\n"]);return Y=function(){return n},n}function Z(){var n=Object(L.a)(["\n  width: 20%;\n  color: ",";\n  text-align: center;\n  cursor: pointer;\n  border: none;\n  font-weight: 800;\n  font-size: 1rem;\n  background-color: transparent;\n"]);return Z=function(){return n},n}function $(){var n=Object(L.a)(["\n  width: 50%;\n  font-weight: 800;\n  font-size: 1rem;\n"]);return $=function(){return n},n}function _(){var n=Object(L.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n"]);return _=function(){return n},n}var nn=q.white,tn=q.blueLight,en=q.greyDark,rn=q.greyLight,cn=T.a.div(_()),an=T.a.span($()),on=T.a.button(Z(),en),un=T.a.button(Y(),nn,rn,tn),sn=function(){var n=Object(s.b)(),t=Object(s.c)(I),e=t.basket,i=t.isTouched,c=Number(Object.values(e).reduce((function(n,t){return n+t.total}),0).toFixed(2)),a=0===c;return Object(r.jsxs)(cn,{children:[a&&i&&Object(r.jsx)("i",{children:"There are no items in the basket"}),Object(r.jsxs)(an,{children:["\xa3",c]}),Object(r.jsx)(on,{onClick:function(){return n(F())},children:"Clear"}),Object(r.jsx)(un,{disabled:a,onClick:function(){return window.alert(c)},children:"Check Out >"})]})};function dn(){var n=Object(L.a)(["\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return dn=function(){return n},n}var ln=T.a.div(dn()),bn=function(){return Object(r.jsx)(ln,{children:Object(r.jsx)(E,{})})},fn=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,34)).then((function(t){var e=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;e(n),r(n),i(n),c(n),a(n)}))},hn=Object(u.a)({reducer:S});o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(s.a,{store:hn,children:Object(r.jsx)(bn,{})})}),document.getElementById("root")),fn()}},[[33,1,2]]]);
//# sourceMappingURL=main.51efba1a.chunk.js.map